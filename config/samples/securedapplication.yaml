# Full — with custom OIDC settings for Grafana
apiVersion: access.zitadel.com/v1alpha1
kind: SecuredApplication
metadata:
  name: grafana
  namespace: monitoring
spec:
  host: grafana.example.com
  access:
    project: infrastructure
    roles:
      - admin
      - viewer
  backend:
    serviceName: grafana
    servicePort: 3000
  oidc:
    redirectURIs:
      - https://grafana.example.com/login/generic_oauth
    idTokenRoleAssertion: true
    accessTokenRoleAssertion: true
  deleteProtection: true
---
# Minimal — defaults for everything
apiVersion: access.zitadel.com/v1alpha1
kind: SecuredApplication
metadata:
  name: wiki
  namespace: default
spec:
  host: wiki.example.com
  access:
    project: infrastructure
    roles:
      - admin
  backend:
    serviceName: wiki
    servicePort: 8080
