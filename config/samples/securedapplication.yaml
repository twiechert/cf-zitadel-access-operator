apiVersion: access.zitadel.com/v1alpha1
kind: SecuredApplication
metadata:
  name: grafana
  namespace: monitoring
spec:
  host: grafana.example.com
  access:
    project: infrastructure
    roles:
      - admin
      - viewer
  oidc:
    redirectURIs:
      - https://grafana.example.com/login/generic_oauth
    idTokenRoleAssertion: true
    accessTokenRoleAssertion: true
  tunnel:
    backend:
      serviceName: grafana
      servicePort: 3000
---
# Minimal â€” uses all defaults, no tunnel
apiVersion: access.zitadel.com/v1alpha1
kind: SecuredApplication
metadata:
  name: internal-api
  namespace: default
spec:
  host: api.example.com
  access:
    project: infrastructure
    roles:
      - admin
