image:
  repository: ghcr.io/twiechert/cf-zitadel-access-operator
  tag: ""  # Defaults to appVersion
  pullPolicy: IfNotPresent

replicaCount: 1

serviceAccount:
  create: true
  name: ""

# Zitadel configuration
zitadel:
  # Required: URL of the Zitadel instance (e.g. https://zitadel.example.com)
  url: ""
  # Sensitive: Zitadel PAT token. Ignored if existingSecret is set.
  token: ""

# Cloudflare configuration
cloudflare:
  # Sensitive: Cloudflare API token. Ignored if existingSecret is set.
  apiToken: ""
  # Required: Cloudflare account ID
  accountId: ""
  # Required: Cloudflare Access IdP ID (the Zitadel OIDC identity provider)
  idpId: ""
  # Tunnel name (only needed when the tunnel sub-chart is enabled)
  tunnelName: ""

# Operator behaviour
config:
  sessionDuration: "24h"
  leaderElect: false

# Name of an existing Secret containing keys: zitadel-token, cloudflare-api-token.
# When set, the chart will NOT create its own Secret.
existingSecret: ""

resources: {}
  # limits:
  #   cpu: 500m
  #   memory: 128Mi
  # requests:
  #   cpu: 10m
  #   memory: 64Mi

nodeSelector: {}

tolerations: []

# Cloudflare Tunnel Ingress Controller (optional sub-chart)
# Enable to install the STRRL cloudflare-tunnel-ingress-controller alongside the operator.
# See https://github.com/STRRL/cloudflare-tunnel-ingress-controller for details.
# When enabled, configure it to use the operator's shared secret to avoid
# duplicating Cloudflare credentials. Just set cloudflare.tunnelName above, then:
#
# cloudflare-tunnel-ingress-controller:
#   enabled: true
#   cloudflare:
#     secretRef:
#       name: <release-name>-cf-zitadel-access-operator
#       apiTokenKey: cloudflare-api-token
#       accountIDKey: cloudflare-account-id
#       tunnelNameKey: cloudflare-tunnel-name
cloudflare-tunnel-ingress-controller:
  enabled: false
